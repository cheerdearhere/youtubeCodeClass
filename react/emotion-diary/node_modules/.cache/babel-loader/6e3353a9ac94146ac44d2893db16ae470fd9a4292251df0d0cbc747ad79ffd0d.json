{"ast":null,"code":"import _slicedToArray from\"/Users/choikmacbookair/Desktop/workspace/youtubeWorks/react/emotion-diary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{DiaryStateContext}from\"../App\";import MyHeader from\"../components/MyHeader\";import{getStringDate}from\"../util/date\";import MyButton from\"../components/MyButton\";import{emotionList}from\"../util/emotion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Diary=function Diary(){var _useParams=useParams(),id=_useParams.id;var diaryList=useContext(DiaryStateContext);var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var titleElement=document.getElementsByTagName(\"title\")[0];titleElement.innerHTML=\"\\uAC10\\uC815 \\uC77C\\uAE30\\uC7A5 - \".concat(id,\" \\uC77C\\uAE30\");},[]);useEffect(function(){if(diaryList.length>=1){var targetDiary=diaryList.find(function(it){return parseInt(it.id)===parseInt(id);});if(targetDiary){setData(targetDiary);}else{alert(\"없는 일기입니다.\");navigate(\"/\",{replace:true});}}},[id,diaryList]);if(!data){return/*#__PURE__*/_jsx(\"div\",{className:\"DiaryPage\",children:\"\\uB85C\\uB529\\uC911\\uC785\\uB2C8\\uB2E4...\"});}else{var curEmotionData=emotionList.find(function(it){return parseInt(it.emotion_id)===parseInt(data.emotion);});return/*#__PURE__*/_jsxs(\"div\",{className:\"DiaryPage\",children:[/*#__PURE__*/_jsx(MyHeader,{headText:\"\".concat(getStringDate(new Date(data.date)),\" \\uAE30\\uB85D\"),leftChild:/*#__PURE__*/_jsx(MyButton,{text:\"< 뒤로가기\",onClick:function onClick(){return navigate(-1);}}),rightChild:/*#__PURE__*/_jsx(MyButton,{text:\"수정하기\",onClick:function onClick(){return navigate(\"/edit/\".concat(data.id));}})}),/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uAC10\\uC815\"}),/*#__PURE__*/_jsxs(\"div\",{className:[\"diary_img_wrapper\",\"diary_img_wrapper_\".concat(data.emotion)].join(\" \"),children:[/*#__PURE__*/_jsx(\"img\",{src:curEmotionData.emotion_img}),/*#__PURE__*/_jsx(\"div\",{className:\"emotion_discript\",children:curEmotionData.emotion_descript})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uC77C\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"diary_content_wrapper\",children:/*#__PURE__*/_jsx(\"p\",{children:data.content})})]})]})]});}};export default Diary;","map":{"version":3,"names":["useContext","useEffect","useState","useNavigate","useParams","DiaryStateContext","MyHeader","getStringDate","MyButton","emotionList","jsx","_jsx","jsxs","_jsxs","Diary","_useParams","id","diaryList","navigate","_useState","_useState2","_slicedToArray","data","setData","titleElement","document","getElementsByTagName","innerHTML","concat","length","targetDiary","find","it","parseInt","alert","replace","className","children","curEmotionData","emotion_id","emotion","headText","Date","date","leftChild","text","onClick","rightChild","join","src","emotion_img","emotion_descript","content"],"sources":["/Users/choikmacbookair/Desktop/workspace/youtubeWorks/react/emotion-diary/src/pages/Diary.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { DiaryStateContext } from \"../App\";\r\n\r\nimport MyHeader from \"../components/MyHeader\";\r\nimport { getStringDate } from \"../util/date\";\r\nimport MyButton from \"../components/MyButton\";\r\nimport { emotionList } from \"../util/emotion\";\r\n\r\nconst Diary = () => {\r\n  const { id } = useParams();\r\n  const diaryList = useContext(DiaryStateContext);\r\n  const navigate = useNavigate();\r\n  const [data, setData] = useState();\r\n\r\n  useEffect(() => {\r\n    const titleElement = document.getElementsByTagName(\"title\")[0];\r\n    titleElement.innerHTML = `감정 일기장 - ${id} 일기`;\r\n  }, []);\r\n  useEffect(() => {\r\n    if (diaryList.length >= 1) {\r\n      const targetDiary = diaryList.find(\r\n        (it) => parseInt(it.id) === parseInt(id),\r\n      );\r\n      if (targetDiary) {\r\n        setData(targetDiary);\r\n      } else {\r\n        alert(\"없는 일기입니다.\");\r\n        navigate(\"/\", { replace: true });\r\n      }\r\n    }\r\n  }, [id, diaryList]);\r\n\r\n  if (!data) {\r\n    return <div className=\"DiaryPage\">로딩중입니다...</div>;\r\n  } else {\r\n    const curEmotionData = emotionList.find(\r\n      (it) => parseInt(it.emotion_id) === parseInt(data.emotion),\r\n    );\r\n    return (\r\n      <div className=\"DiaryPage\">\r\n        <MyHeader\r\n          headText={`${getStringDate(new Date(data.date))} 기록`}\r\n          leftChild={\r\n            <MyButton text={\"< 뒤로가기\"} onClick={() => navigate(-1)} />\r\n          }\r\n          rightChild={\r\n            <MyButton\r\n              text={\"수정하기\"}\r\n              onClick={() => navigate(`/edit/${data.id}`)}\r\n            />\r\n          }\r\n        />\r\n        <article>\r\n          <section>\r\n            <h4>오늘의 감정</h4>\r\n            <div\r\n              className={[\r\n                \"diary_img_wrapper\",\r\n                `diary_img_wrapper_${data.emotion}`,\r\n              ].join(\" \")}\r\n            >\r\n              <img src={curEmotionData.emotion_img} />\r\n              <div className=\"emotion_discript\">\r\n                {curEmotionData.emotion_descript}\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section>\r\n            <h4>오늘의 일기</h4>\r\n            <div className=\"diary_content_wrapper\">\r\n              <p>{data.content}</p>\r\n            </div>\r\n          </section>\r\n        </article>\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default Diary;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}